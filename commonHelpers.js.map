{"version":3,"file":"commonHelpers.js","sources":["../src/templates/articles.js","../src/services/galleryApi.js","../src/main.js"],"sourcesContent":["export default function createGallery(arr, galleryEL) {\n  const markup = arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class = \"list-item\">\n      <a href=\"${largeImageURL}\" ><img class=\"search-image\" src = \"${webformatURL}\" alt = \"${tags}\" ><div class=\"options\">\n      <p class=\"options-item\"> likes:<span class=\"options-item-span\">${likes}</span></p>\n      <p class=\"options-item\"> views:<span class=\"options-item-span\">${views}</span></p>\n      <p class=\"options-item\"> comments:<span class=\"options-item-span\">${comments}</span></p>\n      <p class=\"options-item\"> downloads:<span class=\"options-item-span\">${downloads}</span></p></div>\n    \n      </a>\n      \n      </li>`\n    )\n    .join('');\n\n  galleryEL.insertAdjacentHTML('beforeend', markup);\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com';\nconst API_KEY = '41909271-8b5dab2225a1cd5a9757159a5';\nconst ENDPOINT = 'api';\n\nfunction getGallery(query) {\n  return axios\n    .get(`${BASE_URL}/${ENDPOINT}`, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        per_page: 40,\n        page: 1,\n      },\n    })\n    .then(({ data }) => data);\n}\n\nexport { getGallery };\n","import axios from 'axios';\nimport createGallery from './templates/articles';\nimport { getGallery } from './services/galleryApi';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.form-search'),\n  galleryEL: document.querySelector('.gallery-images'),\n  loadMoreEl: document.querySelector('[data-action=\"load-more\"]'),\n};\n\nconst hiddenClass = 'is-hidden';\n\nrefs.formEl.addEventListener('submit', handleSearch);\n\nasync function handleSearch(event) {\n  event.preventDefault();\n\n  refs.galleryEL.innerHTML = '';\n\n  const form = event.currentTarget;\n  const query = form.elements.query.value.trim();\n\n  if (!query) {\n    return;\n  }\n\n  try {\n    const { hits } = await getGallery(query);\n\n    createGallery(hits, refs.galleryEL);\n\n    if (hits.length > 0) {\n      refs.loadMoreEl.classList.remove(hiddenClass);\n    } else {\n      refs.loadMoreEl.classList.add(hiddenClass);\n    }\n  } catch (error) {\n    console.log(err);\n  } finally {\n    form.reset();\n  }\n}\n"],"names":["createGallery","arr","galleryEL","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","BASE_URL","API_KEY","ENDPOINT","getGallery","query","axios","data","refs","hiddenClass","handleSearch","event","form","hits"],"mappings":"svBAAe,SAASA,EAAcC,EAAKC,EAAW,CACpD,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,iBACKL,wCAAoDD,aAAwBE;AAAA,uEACtBC;AAAA,uEACAC;AAAA,0EACGC;AAAA,2EACCC;AAAA;AAAA;AAAA;AAAA,YAKtE,EACA,KAAK,EAAE,EAEVR,EAAU,mBAAmB,YAAaC,CAAM,CAClD,CCvBA,MAAMQ,EAAW,sBACXC,EAAU,qCACVC,EAAW,MAEjB,SAASC,EAAWC,EAAO,CACzB,OAAOC,EACJ,IAAI,GAAGL,KAAYE,IAAY,CAC9B,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GACV,KAAM,CACP,CACP,CAAK,EACA,KAAK,CAAC,CAAE,KAAAE,CAAM,IAAKA,CAAI,CAC5B,CCXA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,cAAc,EAC7C,UAAW,SAAS,cAAc,iBAAiB,EACnD,WAAY,SAAS,cAAc,2BAA2B,CAChE,EAEMC,EAAc,YAEpBD,EAAK,OAAO,iBAAiB,SAAUE,CAAY,EAEnD,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpBH,EAAK,UAAU,UAAY,GAE3B,MAAMI,EAAOD,EAAM,cACbN,EAAQO,EAAK,SAAS,MAAM,MAAM,OAExC,GAAKP,EAIL,GAAI,CACF,KAAM,CAAE,KAAAQ,CAAM,EAAG,MAAMT,EAAWC,CAAK,EAEvCf,EAAcuB,EAAML,EAAK,SAAS,EAE9BK,EAAK,OAAS,EAChBL,EAAK,WAAW,UAAU,OAAOC,CAAW,EAE5CD,EAAK,WAAW,UAAU,IAAIC,CAAW,CAE5C,MAAC,CACA,QAAQ,IAAI,GAAG,CACnB,QAAY,CACRG,EAAK,MAAK,CACX,CACH"}