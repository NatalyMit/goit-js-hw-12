import{a as L,S as v,i as p}from"./assets/vendor-bad0427b.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();function u(s,r){const a=s.map(({webformatURL:l,largeImageURL:e,tags:o,likes:i,views:y,comments:h,downloads:E})=>`<li class = "list-item">
      <a href="${e}" ><img class="search-image" src = "${l}" alt = "${o}" ><div class="options">
      <p class="options-item"> likes:<span class="options-item-span">${i}</span></p>
      <p class="options-item"> views:<span class="options-item-span">${y}</span></p>
      <p class="options-item"> comments:<span class="options-item-span">${h}</span></p>
      <p class="options-item"> downloads:<span class="options-item-span">${E}</span></p></div>
    
      </a>
      
      </li>`).join("");r.insertAdjacentHTML("beforeend",a)}const w="https://pixabay.com",b="41909271-8b5dab2225a1cd5a9757159a5",M="api/";function f(s,r=1){return L.get(`${w}/${M}`,{params:{key:b,q:s,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:40,page:r}}).then(({data:a})=>a)}const t={formEl:document.querySelector(".form-search"),galleryEL:document.querySelector(".gallery-images"),loadMoreEl:document.querySelector('[data-action="load-more"]'),preloader:document.getElementById("preloader")},S=new v(".gallery-images a",{captionDelay:250}),n="is-hidden";let c="",d=1,m=0;t.formEl.addEventListener("submit",q);async function q(s){s.preventDefault(),t.galleryEL.innerHTML="",d=1;const r=s.currentTarget;if(c=r.elements.query.value.trim(),!c){p.show({title:"❌",messageColor:"white",message:"Sorry, You have not entered any word.Please try again!",position:"topRight",color:"red"});return}try{const{hits:a,totalHits:l}=await f(c);if(!l){p.show({title:"❌",messageColor:"white",message:"Sorry, we dont have any pictures for your request.Please try again!",position:"topRight",color:"red"});return}console.log(l),m=Math.ceil(l/40),console.log(m),u(a,t.galleryEL),S.refresh(),a.length>0&&a.length!==l?(t.loadMoreEl.classList.remove(n),t.loadMoreEl.addEventListener("click",g)):t.loadMoreEl.classList.add(n)}catch{console.log(err)}finally{r.reset()}}async function g(){d+=1,t.preloader.classList.remove(n),t.loadMoreEl.disabled=!0;try{const{hits:s}=await f(c,d);u(s,t.galleryEL)}catch(s){console.log(s)}finally{t.preloader.classList.add(n),t.loadMoreEl.disabled=!1,d===m&&(t.loadMoreEl.classList.add(n),t.loadMoreEl.removeEventListener("click",g),p.show({title:"❌",messageColor:"white",message:"No more pictures for your request!",position:"bottomCenter",color:"red"}))}}
//# sourceMappingURL=commonHelpers.js.map
